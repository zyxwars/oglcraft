- separate rendering from generation logic

- figure out vc for dependencies

- normalize diagonal speed
- improve fog
